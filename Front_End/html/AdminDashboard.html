<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Jobico Admin Dashboard</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="../style/AdminDashboard.css">
<!--  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>-->

</head>
<body>
<!-- Sidebar -->
<aside class="sidebar">
  <div class="sidebar-header">
    <h2>Jobico</h2>
    <p>Admin Panel</p>
  </div>
  <ul class="menu">
    <li class="menu-item active" data-section="dashboard"><i class="fas fa-home"></i><span class="menu-text">Dashboard</span></li>
    <li class="menu-item" data-section="jobs"><i class="fas fa-briefcase"></i><span class="menu-text">Job Posts</span></li>
    <li class="menu-item" data-section="employers"><i class="fas fa-building"></i><span class="menu-text">Employers</span></li>
    <li class="menu-item" data-section="seekers"><i class="fas fa-users"></i><span class="menu-text">Job Seekers</span></li>
    <li class="menu-item" data-section="applications"><i class="fas fa-file-alt"></i><span class="menu-text">Applications</span></li>
    <li class="menu-item" data-section="reports"><i class="fas fa-chart-bar"></i><span class="menu-text">Reports</span></li>
    <li class="menu-item" data-section="settings"><i class="fas fa-cog"></i><span class="menu-text">Settings</span></li>
    <li class="menu-item logout"><i class="fas fa-sign-out-alt"></i><span class="menu-text">Logout</span></li>
  </ul>
</aside>

<!-- Main Content -->
<main class="main-content">
  <header class="navbar">
    <h1 id="page-title">Dashboard</h1>
    <div class="nav-actions">
      <input type="text" placeholder="Search...">
      <div class="notification"><i class="fas fa-bell"></i><span class="notification-badge">3</span></div>
      <div class="profile"><img src="../assets/profiles/default-avatar.jpg" alt="Admin"><span>Admin</span></div>
    </div>
  </header>

  <!-- Sections -->
  <section id="dashboard">
    <div class="cards">
      <div class="card">
        <h3>Total Jobs</h3>
        <div class="number">120</div>
        <div class="trend">+15%</div>
      </div>
      <div class="card">
        <h3>Total Employers</h3>
        <div class="number">45</div>
        <div class="trend">+5%</div>
      </div>
      <div class="card">
        <h3>Total Applicants</h3>
        <div class="number">350</div>
        <div class="trend">-8%</div>
      </div>
    </div>
  </section>

  <!-- Job Posts Section -->
  <section id="jobs" class="hidden">
    <div class="table-container">
      <div style="display:flex;justify-content:space-between;align-items:center;">
        <h2>Job Posts</h2>
        <button class="btn primary" onclick="openModal('jobModal')"><i class="fas fa-plus"></i> Add Job</button>
      </div>
      <table>
        <thead>
        <tr>
          <th>Job ID</th>
          <th>Title</th>
          <th>Employer</th>
          <th>Status</th>
          <th>Applicants</th>
          <th>Actions</th>
        </tr>
        </thead>
        <tbody id="admin-post-panel">
<!--        <tr>-->
<!--          <td>#101</td>-->
<!--          <td>Frontend Developer</td>-->
<!--          <td>Tech Lanka</td>-->
<!--          <td><span class="status active">Active</span></td>-->
<!--          <td>23</td>-->
<!--          <td>-->
<!--            <button class="btn secondary"><i class="fas fa-eye"></i></button>-->
<!--            <button class="btn danger"><i class="fas fa-trash"></i></button>-->
<!--          </td>-->
<!--        </tr>-->
        </tbody>
      </table>
    </div>
  </section>

  <!-- Employers Section -->
  <section id="employers" class="hidden">
    <div class="table-container">
      <h2>Employers</h2>
      <table>
        <thead>
        <tr>
          <th>ID</th>
          <th>Company</th>
          <th>Contact</th>
          <th>Status</th>
          <th>Actions</th>
        </tr>
        </thead>
        <tbody id="admin-employee-panel">
<!--        <tr>-->
<!--          <td>#E01</td>-->
<!--          <td>Zaara Tours</td>-->
<!--          <td>zaara@mail.com</td>-->
<!--          <td><span class="status reviewing">Reviewing</span></td>-->
<!--          <td>5</td>-->
<!--          <td>-->
<!--            <button class="btn secondary"><i class="fas fa-edit"></i></button>-->
<!--            <button class="btn danger"><i class="fas fa-trash"></i></button>-->
<!--          </td>-->
<!--        </tr>-->
        </tbody>
      </table>
    </div>
  </section>

  <!-- Job Seekers Section -->
  <section id="seekers" class="hidden">
    <div class="table-container">
      <h2>Job Seekers</h2>
      <table>
        <thead>
        <tr>
          <th>ID</th>
          <th>Name</th>
          <th>Email</th>
          <th>Is active</th>
          <th>Profile</th>
        </tr>
        </thead>
        <tbody id="admin-seeker-panel">
        </tbody>
      </table>
    </div>
  </section>

  <!-- Applications Section -->
  <section id="applications" class="hidden">
    <div class="table-container">
      <h2>Applications</h2>
      <table>
        <thead>
        <tr>
          <th>ID</th>
          <th>Seeker</th>
          <th>Job</th>
          <th>Status</th>
          <th>Resume</th>
          <th>Action</th>
        </tr>
        </thead>
        <tbody id="admin-application-panel">
        </tbody>
      </table>
    </div>
  </section>

  <!-- Reports Section -->
  <section id="reports" class="hidden">
    <div class="table-container">
      <h2>Reports</h2>
      <canvas id="reportChart" height="120"></canvas>
    </div>
  </section>

  <!-- Settings Section -->
  <section id="settings" class="hidden">
    <div class="table-container">
      <h2>Settings</h2>
      <form id="admin-settings-form">
        <div class="form-group">
          <label for="adminName">Admin Name</label>
          <input type="text" id="adminName" class="form-control" placeholder="Enter name">
        </div>
        <div class="form-group">
          <label for="adminEmail">Email</label>
          <input type="email" id="adminEmail" class="form-control" placeholder="Enter email">
        </div>
        <div class="form-group">
          <label for="adminPassword">Password</label>
          <input type="password" id="adminPassword" class="form-control" placeholder="••••••••">
        </div>
        <button type="submit" class="btn primary">Save Changes</button>
      </form>
      <div id="statusMessage" style="margin-top:10px;"></div>
    </div>
  </section>

</main>

<!-- -------- Modals -------- -->
<div class="modal" id="jobModal">
  <div class="modal-content">
    <div class="modal-header">
      <h2>Add Job Post</h2>
      <button class="modal-close" onclick="closeModal('jobModal')">&times;</button>
    </div>
    <div class="form-group">
      <label>Job Title</label>
      <input type="text" class="form-control">
    </div>
    <div class="form-group">
      <label>Description</label>
      <textarea class="form-control"></textarea>
    </div>
    <div class="form-group">
      <label>Status</label>
      <select class="form-control">
        <option>Active</option>
        <option>Closed</option>
      </select>
    </div>
    <div class="modal-footer">
      <button class="btn secondary" onclick="closeModal('jobModal')">Cancel</button>
      <button class="btn primary">Save</button>
    </div>
  </div>
</div>

<!-- Job Edit Modal - Remove the 'hidden' class -->
<div id="editJobModal" class="modal">
  <div class="modal-content">
    <div class="modal-header">
      <h2>Edit Job Status</h2>
      <span class="close" id="closeEditModal">&times;</span>
    </div>
    <div class="modal-body">
      <form id="editJobForm">
        <input type="hidden" id="editJobId">

        <div class="form-group">
          <label for="editJobTitle">Job Title</label>
          <input type="text" id="editJobTitle" class="form-control" readonly>
        </div>
        <div class="form-group">
          <label for="editCompany">Company</label>
          <input type="text" id="editCompany" class="form-control" readonly>
        </div>
        <div class="form-group">
          <label for="editLocation">Location</label>
          <input type="text" id="editLocation" class="form-control">
        </div>
        <div class="form-group">
          <label for="editJobType">Job Type</label>
          <select id="editJobType" class="form-control">
            <option value="Full-Time">Full-Time</option>
            <option value="Part-Time">Part-Time</option>
            <option value="Temporary">Temporary</option>
            <option value="Contract">Contract</option>
            <option value="Internship">Internship</option>
            <option value="Remote">Remote</option>
          </select>
        </div>
        <div class="form-group">
          <label for="editSalary">Salary (LKR)</label>
          <input type="text" id="editSalary" class="form-control">
        </div>
        <div class="form-group">
          <label for="editDeadline">Application Deadline</label>
          <input type="date" id="editDeadline" class="form-control">
        </div>

        <div class="form-group">
          <label for="editJobStatus">Status</label>
          <select id="editJobStatus" class="form-control">
            <option value="Active">Active</option>
            <option value="Pending">Pending</option>
            <option value="Closed">Closed</option>
          </select>
        </div>

        <button type="submit" class="btn primary">Save Changes</button>
      </form>
    </div>
  </div>
</div>

<!-- Seeker Details Modal -->
<div id="seekerDetailsModal" class="modal hidden">
  <div class="modal-content">
    <div class="modal-header">
      <h2>Job Seeker Details</h2>
      <span class="close" id="closeSeekerModal">&times;</span>
    </div>
    <div class="modal-body">
      <form id="editSeekerForm">
        <input type="hidden" id="seekerId">

        <div class="form-group">
          <label for="seekerFirstName">First Name</label>
          <input type="text" id="seekerFirstName" class="form-control" readonly>
        </div>

        <div class="form-group">
          <label for="seekerEmail">Email</label>
          <input type="email" id="seekerEmail" class="form-control" readonly>
        </div>

        <div class="form-group">
          <label for="seekerPhone">Phone Number</label>
          <input type="text" id="seekerPhone" class="form-control" readonly>
        </div>

        <div class="form-group">
          <label for="seekerAddress">Address</label>
          <input type="text" id="seekerAddress" class="form-control" readonly>
        </div>

        <div class="form-group">
          <label for="seekerProfession">Profession Title</label>
          <input type="text" id="seekerProfession" class="form-control" readonly>
        </div>

        <div class="form-group">
          <label>Resume</label>
          <a id="seekerResume" href="#" target="_blank" class="btn secondary">View Resume</a>
        </div>

      </form>
    </div>
  </div>
</div>


<!-- Custom Confirmation Modal -->
<div class="custom-modal" id="confirmation-modal">
  <div class="modal-content">
    <div class="modal-header">
      <h2>Confirm Action</h2>
    </div>
    <div class="modal-body">
      <div class="modal-icon">
        <i class="fas fa-exclamation-circle"></i>
      </div>
      <p>Are you sure you want to leave? Your progress will be lost.</p>
    </div>
    <div class="modal-footer">
      <button class="modal-btn modal-btn-cancel" id="modal-cancel">Cancel</button>
      <button class="modal-btn modal-btn-confirm" id="modal-confirm">Yes, Leave</button>
    </div>
  </div>
</div>


<!-- -------- Scripts -------- -->
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="../js/AdminDashboard.js"></script>

</body>
</html>
